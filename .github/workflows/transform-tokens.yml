name: Transform Tokens

on:
    push:
        paths:
            - 'tokens.json'
    workflow_dispatch:

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: Install pnpm
              uses: pnpm/action-setup@v4
              with:
                version: 9

            - name: Setup Node.js
              uses: actions/setup-node@v4
              with:
                node-version: '20'
                cache: 'pnpm'

            - name: Install Dependencies
              run: pnpm install

            - name: Build Tokens
              run: pnpm run build:tokens

            - name: Create Pull Request
              uses: peter-evans/create-pull-request@v5
              with:
                token: ${{ secrets.GITHUB_TOKEN }}
                commit-message: "design: update design tokens"
                title: "ğŸ¨ Design Tokens Update"
                body: "í”¼ê·¸ë§ˆ ë””ìì¸ í† í°ì´ ì—…ë°ì´íŠ¸ ë˜ì—ˆìŠµë‹ˆë‹¤. ìë™ìœ¼ë¡œ ìƒì„±ëœ PRì…ë‹ˆë‹¤."
                branch: "design-token"
                base: "develop"